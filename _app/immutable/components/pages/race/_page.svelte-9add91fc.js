import{Q as B,R as P,T as U,U as $,S as H,i as J,s as K,H as E,a as N,k as Q,q as I,I as j,m as k,h as b,c as R,l as V,r as D,n as g,b as _,J as A,K as W,V as F,W as M,O as G,P as L}from"../../../chunks/index-a0e00714.js";import{w as X,d as Y}from"../../../chunks/index-7ed160a6.js";const Z=[{name:"bulbasaur",speed:45},{name:"ivysaur",speed:60},{name:"venusaur",speed:80},{name:"charmander",speed:65},{name:"charmeleon",speed:80},{name:"charizard",speed:100},{name:"squirtle",speed:43},{name:"wartortle",speed:58},{name:"blastoise",speed:78},{name:"caterpie",speed:45},{name:"metapod",speed:30},{name:"butterfree",speed:70},{name:"weedle",speed:50},{name:"kakuna",speed:35},{name:"beedrill",speed:75},{name:"pidgey",speed:56},{name:"pidgeotto",speed:71},{name:"pidgeot",speed:91},{name:"rattata",speed:72},{name:"raticate",speed:97},{name:"spearow",speed:70},{name:"fearow",speed:100},{name:"ekans",speed:55},{name:"arbok",speed:80},{name:"pikachu",speed:90},{name:"raichu",speed:100},{name:"sandshrew",speed:40},{name:"sandslash",speed:65},{name:"nidoran♀",speed:41},{name:"nidorina",speed:56},{name:"nidoqueen",speed:76},{name:"nidoran♂",speed:50},{name:"nidorino",speed:65},{name:"nidoking",speed:85},{name:"clefairy",speed:35},{name:"clefable",speed:60},{name:"vulpix",speed:65},{name:"ninetales",speed:100},{name:"jigglypuff",speed:20},{name:"wigglytuff",speed:45},{name:"zubat",speed:55},{name:"golbat",speed:90},{name:"oddish",speed:30},{name:"gloom",speed:40},{name:"vileplume",speed:50},{name:"paras",speed:25},{name:"parasect",speed:30},{name:"venonat",speed:45},{name:"venomoth",speed:90},{name:"diglett",speed:95},{name:"dugtrio",speed:120},{name:"meowth",speed:90},{name:"persian",speed:115},{name:"psyduck",speed:55},{name:"golduck",speed:85},{name:"mankey",speed:70},{name:"primeape",speed:95},{name:"growlithe",speed:60},{name:"arcanine",speed:95},{name:"poliwag",speed:90},{name:"poliwhirl",speed:90},{name:"poliwrath",speed:70},{name:"abra",speed:90},{name:"kadabra",speed:105},{name:"alakazam",speed:120},{name:"machop",speed:35},{name:"machoke",speed:45},{name:"machamp",speed:55},{name:"bellsprout",speed:40},{name:"weepinbell",speed:55},{name:"victreebel",speed:70},{name:"tentacool",speed:70},{name:"tentacruel",speed:100},{name:"geodude",speed:20},{name:"graveler",speed:35},{name:"golem",speed:45},{name:"ponyta",speed:90},{name:"rapidash",speed:105},{name:"slowpoke",speed:15},{name:"slowbro",speed:30},{name:"magnemite",speed:45},{name:"magneton",speed:70},{name:"farfetch'd",speed:60},{name:"doduo",speed:75},{name:"dodrio",speed:100},{name:"seel",speed:45},{name:"dewgong",speed:70},{name:"grimer",speed:25},{name:"muk",speed:50},{name:"shellder",speed:40},{name:"cloyster",speed:70},{name:"gastly",speed:80},{name:"haunter",speed:95},{name:"gengar",speed:110},{name:"onix",speed:70},{name:"drowzee",speed:42},{name:"hypno",speed:67},{name:"krabby",speed:50},{name:"kingler",speed:75},{name:"voltorb",speed:100},{name:"electrode",speed:140},{name:"exeggcute",speed:40},{name:"exeggutor",speed:55},{name:"cubone",speed:35},{name:"marowak",speed:45},{name:"hitmonlee",speed:87},{name:"hitmonchan",speed:76},{name:"lickitung",speed:30},{name:"koffing",speed:35},{name:"weezing",speed:60},{name:"rhyhorn",speed:25},{name:"rhydon",speed:40},{name:"chansey",speed:50},{name:"tangela",speed:60},{name:"kangaskhan",speed:90},{name:"horsea",speed:60},{name:"seadra",speed:85},{name:"goldeen",speed:63},{name:"seaking",speed:68},{name:"staryu",speed:85},{name:"starmie",speed:115},{name:"mr. mime",speed:90},{name:"scyther",speed:105},{name:"jynx",speed:95},{name:"electabuzz",speed:105},{name:"magmar",speed:93},{name:"pinsir",speed:85},{name:"tauros",speed:110},{name:"magikarp",speed:80},{name:"gyarados",speed:81},{name:"lapras",speed:60},{name:"ditto",speed:48},{name:"eevee",speed:55},{name:"vaporeon",speed:65},{name:"jolteon",speed:130},{name:"flareon",speed:65},{name:"porygon",speed:40},{name:"omanyte",speed:35},{name:"omastar",speed:55},{name:"kabuto",speed:55},{name:"kabutops",speed:80},{name:"aerodactyl",speed:130},{name:"snorlax",speed:30},{name:"articuno",speed:85},{name:"zapdos",speed:100},{name:"moltres",speed:90},{name:"dratini",speed:50},{name:"dragonair",speed:70},{name:"dragonite",speed:80},{name:"mewtwo",speed:130},{name:"mew",speed:100}];function ee(e){return-.5*(Math.cos(Math.PI*e)-1)}function S(e,{delay:a=0,duration:t=400,easing:n=B}={}){const d=+getComputedStyle(e).opacity;return{delay:a,duration:t,easing:n,css:r=>`opacity: ${r*d}`}}const ae=(e,a,t)=>{[e[a],e[t]]=[e[t],e[a]]},ne=e=>{for(let a=e.length-1;a>0;a-=1){const t=Math.floor(Math.random()*(a+1));ae(e,a,t)}};function T(e){return Object.prototype.toString.call(e)==="[object Date]"}function O(e,a){if(e===a||e!==e)return()=>e;const t=typeof e;if(t!==typeof a||Array.isArray(e)!==Array.isArray(a))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=a.map((d,r)=>O(e[r],d));return d=>n.map(r=>r(d))}if(t==="object"){if(!e||!a)throw new Error("Object cannot be null");if(T(e)&&T(a)){e=e.getTime(),a=a.getTime();const r=a-e;return m=>new Date(e+m*r)}const n=Object.keys(a),d={};return n.forEach(r=>{d[r]=O(e[r],a[r])}),r=>{const m={};return n.forEach(i=>{m[i]=d[i](r)}),m}}if(t==="number"){const n=a-e;return d=>e+d*n}throw new Error(`Cannot interpolate ${t} values`)}function se(e,a={}){const t=X(e);let n,d=e;function r(m,i){if(e==null)return t.set(e=m),Promise.resolve();d=m;let c=n,h=!1,{delay:o=0,duration:s=400,easing:u=B,interpolate:p=O}=P(P({},a),i);if(s===0)return c&&(c.abort(),c=null),t.set(e=d),Promise.resolve();const f=U()+o;let w;return n=$(y=>{if(y<f)return!0;h||(w=p(e,m),typeof s=="function"&&(s=s(e,m)),h=!0),c&&(c.abort(),c=null);const v=y-f;return v>s?(t.set(e=m),!1):(t.set(e=w(u(v/s))),!0)}),n.promise}return{set:r,update:(m,i)=>r(m(d,e),i),subscribe:t.subscribe}}function q(e,a,t){const n=e.slice();n[15]=a[t],n[20]=t;const d=n[2][n[20]];n[16]=d.id,n[17]=d.name;const r=n[5]*(n[20]+1)-n[7];return n[18]=r,n}function C(e){let a,t,n=e[17]+"",d,r;return{c(){a=E("image"),t=E("title"),d=I(n),this.h()},l(m){a=j(m,"image",{y:!0,x:!0,width:!0,height:!0,href:!0});var i=k(a);t=j(i,"title",{});var c=k(t);d=D(c,n),c.forEach(b),i.forEach(b),this.h()},h(){g(a,"y",e[18]),g(a,"x",r=e[15]),g(a,"width",e[6]),g(a,"height",e[6]),g(a,"href",`pokemon/${e[16]}.svg`)},m(m,i){_(m,a,i),A(a,t),A(t,d)},p(m,i){i&2&&r!==(r=m[15])&&g(a,"x",r)},d(m){m&&b(a)}}}function te(e){let a,t,n,d,r,m,i,c,h=e[1],o=[];for(let s=0;s<h.length;s+=1)o[s]=C(q(e,h,s));return{c(){a=E("svg");for(let s=0;s<o.length;s+=1)o[s].c();t=N(),n=Q("button"),d=I("race"),this.h()},l(s){a=j(s,"svg",{class:!0,xmlns:!0,viewBox:!0});var u=k(a);for(let f=0;f<o.length;f+=1)o[f].l(u);u.forEach(b),t=R(s),n=V(s,"BUTTON",{class:!0});var p=k(n);d=D(p,"race"),p.forEach(b),this.h()},h(){g(a,"class","w-full h-full"),g(a,"xmlns","http://www.w3.org/2000/svg"),g(a,"viewBox","0 0 "+e[3]+" "+e[3]),g(n,"class","btn-wide btn"),n.disabled=e[0]},m(s,u){_(s,a,u);for(let p=0;p<o.length;p+=1)o[p].m(a,null);_(s,t,u),_(s,n,u),A(n,d),m=!0,i||(c=W(n,"click",e[9]),i=!0)},p(s,[u]){if(u&230){h=s[1];let p;for(p=0;p<h.length;p+=1){const f=q(s,h,p);o[p]?o[p].p(f,u):(o[p]=C(f),o[p].c(),o[p].m(a,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=h.length}(!m||u&1)&&(n.disabled=s[0])},i(s){m||(F(()=>{r||(r=M(n,S,{},!0)),r.run(1)}),m=!0)},o(s){r||(r=M(n,S,{},!1)),r.run(0),m=!1},d(s){s&&b(a),G(o,s),s&&b(t),s&&b(n),s&&r&&r.end(),i=!1,c()}}}const z=5;function re(e,a,t){let n;const d=Z.map((l,x)=>({...l,id:x+1})).sort((l,x)=>l.speed-x.speed).slice(0,z),r=2*z,m=2*r;ne(d);const i=d.map(l=>l.speed),c=Math.max(...i),o=i.map(l=>1e3*c/l).map(l=>se(0,{duration:l,easing:ee})),s=Y(o,l=>l);L(e,s,l=>t(1,n=l));const u=m/(z+1),p=r/(2*d.length),f=p/2,w=()=>o.map(l=>l.set(m-p).then(()=>l.set(0)));let y=!1;return[y,n,d,m,s,u,p,f,w,()=>{t(0,y=!0),Promise.all(w()).then(()=>{t(0,y=!1)})}]}class pe extends H{constructor(a){super(),J(this,a,re,te,K,{})}}export{pe as default};
